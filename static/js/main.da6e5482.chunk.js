(this["webpackJsonpmas-drop"]=this["webpackJsonpmas-drop"]||[]).push([[0],{36:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(29),s=n.n(c),i=(n(36),n(5)),u=n(2),o=n(3),l=n(6),d=n(7),h=n(12),p=n(9),j=n(4),b=n(8),v=n(16),f=n(20),O=Object(o.a)((function t(e){var n=e.city,r=e.street,a=e.number,c=e.zipcode,s=e.geolocation;Object(u.a)(this,t),this.city=void 0,this.street=void 0,this.number=void 0,this.zipcode=void 0,this.geolocation=void 0,this.city=n,this.street=r,this.number=a,this.zipcode=c,this.geolocation=s})),x=function(){function t(e){var n=e.id,r=e.userId,a=e.date,c=e.products;Object(u.a)(this,t),this.id=void 0,this.userId=void 0,this.date=void 0,this.products=void 0,this.id=n,this.userId=r,this.date=a,this.products=c}return Object(o.a)(t,[{key:"approved",value:function(t){var e=this.products.find((function(e){return e.productId===t}));return!!e&&e.approved}},{key:"changeStatus",value:function(t,e){var n=this.products.find((function(e){return e.productId===t}));n&&(n.approved=e)}},{key:"plus",value:function(t){var e=this.products.find((function(e){return e.productId===t})),n=e?this.products.indexOf(e):-1;-1!==n&&e&&(this.products[n].quantity=e.quantity+1)}},{key:"minus",value:function(t){var e=this.products.find((function(e){return e.productId===t})),n=e?this.products.indexOf(e):-1;if(-1!==n&&e){var r=e.quantity-1;r>0?this.products[n].quantity=r:this.products=this.products.filter((function(e){return e.productId!==t}))}}},{key:"add",value:function(t){this.products.find((function(e){return e.productId===t}))||this.products.push({productId:t,quantity:1,approved:!1})}},{key:"remove",value:function(t){this.products.find((function(e){return e.productId===t}))&&(this.products=this.products.filter((function(e){return e.productId!==t})))}}]),t}(),m=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,null,[{key:"strLower",value:function(t){return 0===t.length?t:t.toLowerCase()}},{key:"strUpper",value:function(t){return 0===t.length?t:t.toUpperCase()}},{key:"strFirstUpper",value:function(t){return 0===t.length?t:this.strUpper(t.charAt(0))+t.slice(1)}},{key:"slug",value:function(t){if(!t||""===t)return"";t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var e="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",n=0,r=e.length;n<r;n++)t=t.replace(new RegExp(e.charAt(n),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(n));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}},{key:"truncate",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";if(0===t.length)return"";var r=t.replace(/(<([^>]+)>)/gi,"");if(r.length<=e)return r;var a,c=r.split(" "),s=n.length,i=e-s,u="",o=Object(v.a)(c);try{for(o.s();!(a=o.n()).done;){var l=a.value,d=i-u.length;if(d+s<s)break;u+=" ".concat(l)}}catch(h){o.e(h)}finally{o.f()}return u+n}},{key:"state",value:function(t,e){for(var n=!1,r=0,a=Object.entries(t);r<a.length;r++){var c=Object(i.a)(a[r],2),s=c[0],u=c[1];if(e.hasOwnProperty(s)&&(n=!this.compare(e[s],u)))break}return n}},{key:"clone",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"cartCount",value:function(t){var e=t.products.map((function(t){return t.quantity}));return 0===e.length?0:e.reduce((function(t,e){return t+e}))}},{key:"cartTotal",value:function(e,n){var r=e.products.map((function(t){var e=n.find((function(e){return e.id===t.productId}));return e?{qty:t.quantity,amount:e.price*t.quantity,count:t.approved?t.quantity:0,accepted:t.approved?e.price*t.quantity:0}:{qty:0,amount:0,count:0,accepted:0}}));return t.cartReduce(r)}},{key:"cartReduce",value:function(t){if(0===t.length)return[0,0,0,0];var e=0===t.length?[0]:t.map((function(t){return t.amount})),n=t.map((function(t){return t.qty})),r=e.reduce((function(t,e){return t+e})),a=t.map((function(t){var e=t.count;return e||0})),c=a.reduce((function(t,e){return t+e})),s=t.map((function(t){return t.accepted})).reduce((function(t,e){return t+e}));return[Math.round(100*(r+Number.EPSILON))/100,n.reduce((function(t,e){return t+e})),c,Math.round(100*(s+Number.EPSILON))/100]}},{key:"cartAction",value:function(e,n,r,a){if(r){var c=new x(t.clone(r));"add"===n?c.add(a):"plus"===n?c.plus(a):"minus"===n?c.minus(a):"accept"===n?c.changeStatus(a,!0):"cancel"===n&&c.changeStatus(a,!1),e({cart:c})}}}]),t}();m.compare=function(t,e){return t&&e?JSON.stringify(t)===JSON.stringify(e):!t&&!e};var g=function(){function t(e){var n=e.id,r=e.email,a=e.username,c=e.password,s=e.phone,i=e.name,o=e.address,l=e.parent;Object(u.a)(this,t),this.id=void 0,this.username=void 0,this.name=void 0,this.address=void 0,this.email=void 0,this.password=void 0,this.phone=void 0,this.parent=void 0,this.id=n,this.email=r,this.username=a,this.password=c,this.name=i,this.phone=s,this.address=new O(o),this.parent=l}return Object(o.a)(t,[{key:"firstName",value:function(){return"".concat(m.strFirstUpper(this.name.firstname))}},{key:"lastName",value:function(){return"".concat(m.strFirstUpper(this.name.lastname))}},{key:"fullName",value:function(){return"".concat(this.firstName()," ").concat(this.lastName())}},{key:"type",value:function(){return"Account type: ".concat(this.parent>0?"Child":"Parent")}}]),t}(),y=function(){function t(e){var n=e.id,r=e.title,a=e.price,c=e.description,s=e.category,i=e.image;Object(u.a)(this,t),this.id=void 0,this.title=void 0,this.price=void 0,this.description=void 0,this.category=void 0,this.image=void 0,this.id=n,this.title=r,this.price=a,this.description=c,this.category=s,this.image=i}return Object(o.a)(t,[{key:"name",value:function(){return m.truncate(this.title,20)}},{key:"note",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return m.truncate(this.description,t)}},{key:"slug",value:function(){return m.slug(this.title)}}]),t}(),k=n(22),N=n(31),w=function(){function t(e,n,r,a){Object(u.a)(this,t),this.key=e,this.type=n,this.format=r,this.fetch=a,this.datas=[],this.engine=localStorage}return Object(o.a)(t,[{key:"all",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e,n){var r,a,c,s,u,o,l,d=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:[],a=d.length>3&&void 0!==d[3]?d[3]:[0,0],t.next=4,this.load();case 4:if(t.sent){t.next=6;break}return t.abrupt("return",[]);case 6:return c=this.pick(n),s=this.populate(this.pickAll(r,c),e),u=Object(i.a)(a,2),o=u[0],l=u[1],t.abrupt("return",s.length>l&&l>0?s.splice(o,l):s);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e,n){var r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.load();case 2:if(t.sent){t.next=4;break}return t.abrupt("return",void 0);case 4:return r=this.pick(n),t.abrupt("return",r.length>0?this.populate(r,e).shift():void 0);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"set",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r,a;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.load();case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:if(n=m.clone(e),r=this.datas.find((function(t){return t.id===n.id})),a=r?this.datas.indexOf(r):-1,r){t.next=7;break}return t.abrupt("return",!1);case 7:if(m.compare(n,r)||!(a>-1)){t.next=10;break}return this.datas[a]=n,t.abrupt("return",this.save());case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(t,e){if("object"===typeof t&&"object"===typeof e){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=Object(i.a)(r[n],2),c=a[0],s=a[1];t.hasOwnProperty(c)&&(t[c]=this.update(t[c],s))}return t}return typeof t===typeof e?e:t}},{key:"load",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(){var e,n;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.datas.length>0)){t.next=2;break}return t.abrupt("return",!0);case 2:if(t.prev=2,e=this.engine.getItem(this.key),!((n=e&&e.length>0?JSON.parse(e):[]).length<=0)){t.next=10;break}return t.t0=this,t.next=8,this.fetch(this.key);case 8:t.t1=t.sent,n=t.t0.format.call(t.t0,t.t1);case 10:return t.abrupt("return",this.cache(n));case 13:t.prev=13,t.t2=t.catch(2);case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"save",value:function(){try{if(this.datas.length>0)return this.engine.setItem(this.key,JSON.stringify(this.datas)),!0}catch(t){}return!1}},{key:"pick",value:function(t){return Object(N.a)(this.datas).filter((function(e){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Object(i.a)(r[n],2),c=a[0],s=a[1];if(e.hasOwnProperty(c)&&t.hasOwnProperty(c))try{return s===e[c]}catch(u){return!1}}return!0}))}},{key:"pickAll",value:function(t,e){return e.filter((function(e){return 0===t.length||t.includes(e.id)}))}},{key:"cache",value:function(t){if(t.length<=0)return!1;try{return this.datas=t,this.save()||(this.datas=[]),!0}catch(e){console.log(e.message)}return!1}},{key:"value",value:function(t){if("object"===typeof t){for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var a=Object(i.a)(r[n],2),c=a[0],s=a[1];e[c]=this.value(s)}return e}return Array.isArray(t)?[]:"string"===typeof t?"":"number"===typeof t?0:"boolean"!==typeof t&&void 0}},{key:"populate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=Object.keys(t[0]);try{var a,c=Object(v.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value,i=Object.assign({},s);if(e.length>0){var u,o=Object(v.a)(r);try{for(o.s();!(u=o.n()).done;){var l=u.value,d=l;e.includes(d)||["id"].includes(l)||s.hasOwnProperty(d)&&Object.assign(i,Object(k.a)({},d,this.value(s[d])))}}catch(h){o.e(h)}finally{o.f()}}i&&n.push(new this.type(m.clone(i)))}}catch(h){c.e(h)}finally{c.f()}}catch(p){console.log(p.message)}return n}}]),t}(),I=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(u.a)(this,t),this.tables={},this.base="https://fakestoreapi.com",this.loaded=!1,this.message="",this.options={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},this.fetch=function(){var t=Object(b.a)(Object(j.a)().mark((function t(n){var r,a,c,s,i=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},t.prev=1,a=Object.assign(e.options,r),c=n.startsWith("http")?n:"".concat(n.startsWith("/")?e.base+n:e.base+"/"+n),t.next=6,fetch(c,a);case 6:return s=t.sent,t.next=9,s.json();case 9:return t.abrupt("return",t.sent);case 12:t.prev=12,t.t0=t.catch(1),e.message="".concat(t.t0.message," on db.fetch");case 15:return t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),n.length>0&&n.startsWith("http")&&(this.base=n)}return Object(o.a)(t,[{key:"isError",value:function(){return this.message.length>0}},{key:"error",value:function(){var t=this.message;return this.message="",t}},{key:"create",value:function(t,e){try{e=e||function(t){return t};var n="".concat(t.name.toLocaleLowerCase(),"s");if(!this.tables.hasOwnProperty(n))return this.tables[n]=new w(n,t,e,this.fetch),!0}catch(r){this.message="".concat(r.message," on db.create")}return!1}},{key:"all",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r,a,c,s,i=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],r=i.length>2?i[2]:void 0,a=i.length>3&&void 0!==i[3]?i[3]:[],c=i.length>4?i[4]:void 0,t.next=6,this.table(e);case 6:if(s=t.sent){t.next=9;break}return t.abrupt("return",[]);case 9:return t.prev=9,t.next=12,s.all(n,r,a,c);case 12:return t.abrupt("return",t.sent);case 15:t.prev=15,t.t0=t.catch(9),this.message="".concat(t.t0.message," on db.all()");case 18:return t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t,this,[[9,15]])})));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r,a,c=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],r=c.length>2?c[2]:void 0,t.next=4,this.table(e);case 4:if(a=t.sent){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.prev=7,Object.keys(r).length<=0&&(this.message="Wheres parameters can not be empty, the condition is needed, example: {id: 1}!"),t.next=11,a.get(n,r);case 11:return t.abrupt("return",t.sent);case 14:t.prev=14,t.t0=t.catch(7),this.message="".concat(t.t0.message," on db.get()");case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}}),t,this,[[7,14]])})));return function(e){return t.apply(this,arguments)}}()},{key:"user",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],t.next=3,this.get("users",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"users",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(){var e,n,r,a,c=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1&&void 0!==c[1]?c[1]:[],r=c.length>2&&void 0!==c[2]?c[2]:{},a=c.length>3&&void 0!==c[3]?c[3]:[0,0],t.next=6,this.all("users",n,r,e,a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cart",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],t.next=3,this.get("carts",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"carts",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(){var e,n,r,a,c=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1&&void 0!==c[1]?c[1]:[],r=c.length>2&&void 0!==c[2]?c[2]:{},a=c.length>3&&void 0!==c[3]?c[3]:[0,0],t.next=6,this.all("carts",n,r,e,a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"product",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],t.next=3,this.get("products",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"products",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(){var e,n,r,a,c=arguments;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1&&void 0!==c[1]?c[1]:[],r=c.length>2&&void 0!==c[2]?c[2]:{},a=c.length>3&&void 0!==c[3]?c[3]:[0,0],t.next=6,this.all("products",n,r,e,a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"set",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e,n){var r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.table(e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.prev=5,t.next=8,r.set(n);case 8:return t.abrupt("return",t.sent);case 11:t.prev=11,t.t0=t.catch(5),this.message="".concat(t.t0.message," on db.set()");case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,this,[[5,11]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"table",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.length<=0?this.message="Table name cannot be null or empty!":this.tables.hasOwnProperty(e)||(this.message="No table found with the ".concat(e,", make sure table are created first!")),t.next=4,this.prepare();case 4:return t.abrupt("return",this.tables[e]);case 7:t.prev=7,t.t0=t.catch(0),this.message="".concat(t.t0.message," on db.table()");case 10:return t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},{key:"prepare",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(){var e,n,r,a;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loaded){t.next=2;break}return t.abrupt("return",!0);case 2:e=Object.values(this.tables),n=0,r=e;case 4:if(!(n<r.length)){t.next=11;break}return a=r[n],t.next=8,a.all([],{});case 8:n++,t.next=4;break;case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),C=n(0),A=new I,S=[{id:0,user:void 0,cart:void 0,users:[],carts:[],products:[],loading:!0},function(t){t.state,t.cart}],T=Object(r.createContext)(S),q=T.Provider,P=(T.Consumer,function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).str="key",r.excludes=["user","products","users"],r.loaded=!1,r.skip=!1,r.engine=sessionStorage,r.dispatch=function(t){var e=t.state,n=t.cart,a={};if(e)for(var c=0,s=Object.keys(e);c<s.length;c++){var i=s[c];if(!r.state.hasOwnProperty(i))throw new Error("".concat(i," does not exist in state"));if(r.excludes.includes(i))throw new Error("Can not set this ".concat(i," from outside"));a[i]=e[i]}r.checkCart(n).then((function(t){t&&(Array.isArray(t)?a.carts=t:a.cart=t),a&&Object.keys(a).length>0&&r.setState(Object(f.a)(Object(f.a)({},r.state),a))}))},r.state={id:0,user:void 0,cart:void 0,products:[],users:[],carts:[],loading:!0},r.tables(),r}return Object(o.a)(n,[{key:"tables",value:function(){return this.loaded||(A.create(g,(function(t){var e,n=[],r=Object(v.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.parent=1!==a.id?1:0,n.push(a)}}catch(c){r.e(c)}finally{r.f()}return n.slice(0,6)})),A.create(y),A.create(x,(function(t){t.length>5&&(t=t.slice(0,5));var e,n=t.length;for(e=0;e<n;e++){t[e].userId=e+2;var r,a=Object(v.a)(t[e].products);try{for(a.s();!(r=a.n()).done;){r.value.approved=!1}}catch(c){a.e(c)}finally{a.f()}}return t})),this.loaded=!0),this.loaded}},{key:"update",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r,a,c,s,i,u;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,r=this.state,a=r.users,c=r.products,!(e>0)){t.next=10;break}return t.next=7,A.user({id:e});case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=void 0;case 11:if(!((s=t.t0)instanceof g)){t.next=18;break}return t.next=15,A.cart({userId:e});case 15:t.t1=t.sent,t.next=19;break;case 18:t.t1=void 0;case 19:if(i=t.t1,!(s instanceof g&&0===s.parent)){t.next=26;break}return t.next=23,A.carts();case 23:t.t2=t.sent,t.next=27;break;case 26:t.t2=[];case 27:if(u=t.t2,!(c.length>0)){t.next=32;break}t.t3=c,t.next=35;break;case 32:return t.next=34,A.products();case 34:t.t3=t.sent;case 35:if(c=t.t3,!(a.length>0)){t.next=40;break}t.t4=a,t.next=43;break;case 40:return t.next=42,A.users();case 42:t.t4=t.sent.sort((function(t,e){return t.parent>e.parent?1:-1}));case 43:return a=t.t4,this.setState({user:s,cart:i,id:e,loading:n,products:c,users:a,carts:u}),t.abrupt("return",!1);case 46:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this,e=0;try{var n=this.engine.getItem(this.str);"string"===typeof n&&(e=parseInt(n))}catch(r){}this.skip=!0,this.update(e).then((function(e){t.skip=e}))}},{key:"shouldComponentUpdate",value:function(t,e,n){var r=this;try{if(m.state(this.state,e)){var a=this.state.id,c=e.id;return!(a!==c&&(c>0?this.engine.setItem(this.str,c.toString()):this.engine.removeItem(this.str),!this.skip))||(this.skip=!0,this.update(c).then((function(t){r.skip=t})),!1)}}catch(s){}return!1}},{key:"checkCart",value:function(){var t=Object(b.a)(Object(j.a)().mark((function t(e){var n,r,a,c,s;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.state,r=n.user,a=n.cart,c=n.carts,!(r instanceof g)){t.next=20;break}if(!(e instanceof x)){t.next=20;break}if(!(r.parent>0)){t.next=12;break}if(!(a instanceof x)){t.next=10;break}if(m.compare(e,a)){t.next=10;break}return t.next=8,A.set("carts",e);case 8:if(!t.sent){t.next=10;break}return t.abrupt("return",e);case 10:t.next=20;break;case 12:if(s=c.find((function(t){return t.id===e.id})),!((s?c.indexOf(s):-1)>-1)||m.compare(e,s)){t.next=20;break}return t.next=16,A.set("carts",e);case 16:if(!t.sent){t.next=20;break}return t.next=19,A.carts();case 19:return t.abrupt("return",t.sent);case 20:return t.abrupt("return",void 0);case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.children,e=this.state.cart,n=e instanceof x?new x(m.clone(e)):void 0;return Object(C.jsx)(q,{value:[Object(f.a)(Object(f.a)({},this.state),{},{cart:n}),this.dispatch],children:t})}}]),n}(r.Component)),F=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.mgs;return Object(C.jsx)("div",{className:"container error center",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:"404 not found!"}),Object(C.jsx)("p",{children:t}),Object(C.jsx)(h.b,{to:"/",children:"Home"}),Object(C.jsx)(h.b,{to:"/products",children:"Products"})]})})}}]),n}(r.Component),L=n.p+"static/media/delete.e016087d.svg",U=n.p+"static/media/minus.d1e28aed.svg",E=n.p+"static/media/plus.1177e6ac.svg",J=function(t){var e=t.bol;return Object(C.jsxs)("div",{className:"".concat(e?"loading show":"loading"),children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})},M=function(t){var e=t.lose,n=t.condition,r=t.main,a=t.other;return Object(C.jsx)(C.Fragment,{children:!e&&n?r:a})},D=function(t){for(var e=t.params,n=t.action,r=t.names,a=t.uri,c={},s="Url not found with the path of ".concat(a),u=0,o=Object.entries(e);u<o.length;u++){var l=Object(i.a)(o[u],2),d=l[0],h=l[1];r.includes(d)&&(c[d]=h)}return Object(C.jsx)(C.Fragment,{children:Object.keys(e).length===Object.keys(c).length&&Object.keys(c).length===r.length?n(c):Object(C.jsx)(F,{mgs:s})})},W=function(t){var e=t.dispatch,n=t.product,r=t.cart;if(r instanceof x){var a=r.products.find((function(t){return t.productId===n.id}));if(a){var c=a.approved;return c?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)("div",{className:"cart",children:[Object(C.jsx)("button",{className:c?"stop":"",disabled:c,onClick:function(){return m.cartAction(e,"minus",r,n.id)},children:Object(C.jsx)("img",{src:1===a.quantity?L:U,alt:"minus"})}),Object(C.jsx)("span",{className:"count",children:a.quantity}),Object(C.jsx)("button",{className:c?"stop":"",disabled:c,onClick:function(){return m.cartAction(e,"plus",r,n.id)},children:Object(C.jsx)("img",{src:E,alt:"plus"})})]})}return Object(C.jsx)("div",{className:"cart wide",children:Object(C.jsx)("button",{onClick:function(){return m.cartAction(e,"add",r,n.id)},children:"Add to cart"})})}return Object(C.jsx)(C.Fragment,{})},z=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={loading:!0},r}return Object(o.a)(n,[{key:"render",value:function(){var t=Object(i.a)(this.context,1)[0],e=t.user,n=t.loading,r=n?" center":"";return Object(C.jsx)("div",{className:"home container".concat(r),children:n||!e?Object(C.jsx)(J,{bol:n}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"image",style:{backgroundImage:'url("images/shop.jpg")'}}),Object(C.jsxs)("h2",{children:["Welcome ",e.fullName()]})]})})}}]),n}(r.Component);z.contextType=T;var R=n.p+"static/media/basket.041befaf.svg",B=n.p+"static/media/login.edbe09f0.svg",G=n.p+"static/media/logout.90a0cb01.svg",H=n.p+"static/media/manage.863ee0da.svg",Y=n.p+"static/media/logo.51e190d5.svg",$=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).update=function(e){var n=e.user;t.setState({user:n})},t.logout=function(){(0,Object(i.a)(t.context,2)[1])({state:{id:0}})},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=Object(i.a)(this.context,1)[0],n=e.user,r=e.cart,a=n,c=r instanceof x?m.cartCount(r):0;return Object(C.jsxs)("header",{className:"header",children:[Object(C.jsx)("div",{className:"logo",children:Object(C.jsx)(h.b,{to:"/",style:{backgroundImage:'url("'.concat(Y,'")')}})}),Object(C.jsx)("div",{className:"nav",children:Object(C.jsxs)("nav",{children:[Object(C.jsxs)(h.b,{to:"/products",children:[Object(C.jsx)("span",{className:"icon"}),Object(C.jsx)("span",{className:"txt",children:"Products"})]}),a?r?Object(C.jsxs)(h.b,{to:"/carts",children:[Object(C.jsx)("span",{className:"icon",style:{backgroundImage:'url("'.concat(R,'")')},children:Object(C.jsx)("span",{className:"count",children:c})}),Object(C.jsx)("span",{className:"txt",children:"Cart"})]}):Object(C.jsxs)(h.b,{to:"/manage",children:[Object(C.jsx)("span",{className:"icon",style:{backgroundImage:'url("'.concat(H,'")')}}),Object(C.jsx)("span",{className:"txt",children:"Manage"})]}):"",a?Object(C.jsxs)("a",{href:"/logout",onClick:function(e){e.preventDefault(),t.logout()},children:[Object(C.jsx)("span",{className:"icon",style:{backgroundImage:'url("'.concat(G,'")')}}),Object(C.jsx)("span",{className:"txt",children:n.firstName()})]}):Object(C.jsxs)(h.b,{to:"/",children:[Object(C.jsx)("span",{className:"icon",style:{backgroundImage:'url("'.concat(B,'")')}}),Object(C.jsx)("span",{className:"txt",children:"Login"})]})]})})]})}}]),n}(r.Component);$.contextType=T;var _=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(C.jsx)("footer",{className:"footer",children:Object(C.jsxs)("p",{children:["Mas Drop ",n.reserved()]})})}}],[{key:"reserved",value:function(){return"\xa9"+(new Date).getFullYear()+" All rights reserved"}}]),n}(r.Component),K=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=Object(i.a)(this.context,2)[1],e=this.props,n=e.bol,r=e.cat,a=e.products,c=e.id,s=void 0===c?0:c,u=e.cart;return Object(C.jsx)("div",{className:"list",children:a.map((function(e){return Object(C.jsxs)("div",{className:"product",children:[Object(C.jsx)("div",{className:"img",style:{backgroundImage:'url("'.concat(e.image,'")')}}),Object(C.jsxs)("div",{className:"detail",children:[Object(C.jsx)(h.b,{to:"/product/".concat(e.slug()),children:Object(C.jsx)("h1",{children:e.name()})}),Object(C.jsx)("p",{children:e.note()}),r?Object(C.jsx)("div",{className:"category",children:Object(C.jsx)("span",{children:e.category})}):"",Object(C.jsxs)("div",{className:n?"focus":"focus right",children:[Object(C.jsx)("div",{className:"price",children:Object(C.jsxs)("span",{children:["\u20ac",e.price]})}),n?Object(C.jsx)(W,{dispatch:t,cart:u,product:e}):""]}),s>0&&u?u.approved(e.id)?Object(C.jsx)("button",{className:"action",onClick:function(){return m.cartAction(t,"cancel",u,e.id)},children:"Cancel"}):Object(C.jsx)("button",{className:"action",onClick:function(){return m.cartAction(t,"accept",u,e.id)},children:"Accept"}):u&&u.approved(e.id)?Object(C.jsx)("p",{className:"note",children:"Item already approved by parent!"}):""]})]},e.id)}))})}}]),n}(r.Component);K.contextType=T;var Q=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=Object(i.a)(this.context,1)[0],e=t.cart,n=t.products,r=t.user,a=e.products.map((function(t){return n.find((function(e){return e.id===t.productId}))})),c=m.cartTotal(e,a),s=Object(i.a)(c,3),u=s[0],o=s[1],l=s[2];return Object(C.jsxs)("main",{className:"carts container",children:[Object(C.jsx)("h1",{children:"".concat(r.firstName(),"'s Cart")}),Object(C.jsxs)("div",{className:"cart-products",children:[Object(C.jsx)(K,{cart:e,bol:!0,cat:!1,products:a}),Object(C.jsxs)("aside",{className:"info",children:[Object(C.jsx)("h3",{children:"Summary"}),Object(C.jsxs)("div",{className:"sum-list",children:[Object(C.jsxs)("div",{className:"sum-info",children:[Object(C.jsxs)("span",{children:["Items (",o,")"]}),Object(C.jsxs)("span",{children:["\u20ac",u]})]}),Object(C.jsxs)("div",{className:"sum-info",children:[Object(C.jsx)("span",{children:"Accepted Items"}),Object(C.jsxs)("span",{children:["(",l,")"]})]}),Object(C.jsxs)("div",{className:"total",children:[Object(C.jsx)("span",{children:"SubTotal"}),Object(C.jsxs)("span",{children:["\u20ac",u]})]})]})]})]})]})}}]),n}(r.Component);Q.contextType=T;var V=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=Object(i.a)(this.context,1)[0],e=t.loading,n=t.products,r=t.user,a=t.cart,c=r&&a,s=e?" center":"";return Object(C.jsx)("div",{className:"products container".concat(s),children:e?Object(C.jsx)(J,{bol:e}):Object(C.jsx)(K,{cart:a,bol:c,cat:!0,products:n})})}}]),n}(r.Component);V.contextType=T;var X=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props.name,e=Object(i.a)(this.context,1)[0],r=e.loading,a=e.products.find((function(e){return e.slug()===t})),c=a?"":" center";return Object(C.jsx)("div",{className:"product container".concat(c),children:r?Object(C.jsx)(J,{bol:r}):a?n.product(a):Object(C.jsx)(F,{mgs:"product with the name of (".concat(t,") not found!")})})}}],[{key:"product",value:function(t){return Object(C.jsxs)("div",{className:"inner",children:[Object(C.jsx)("div",{className:"pic",style:{backgroundImage:'url("'.concat(t.image,'")')}}),Object(C.jsxs)("div",{className:"detail",children:[Object(C.jsx)("h3",{children:t.title}),Object(C.jsx)("p",{children:t.description})]})]})}}]),n}(r.Component);X.contextType=T;var Z=X,tt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).login=function(){var e=Object(b.a)(Object(j.a)().mark((function e(n){var r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(i.a)(t.context,2),(0,r[1])({state:{id:n}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=Object(i.a)(this.context,1)[0],n=e.loading,r=e.users;return Object(C.jsx)("div",{className:"container login",children:n||0===r.length?Object(C.jsx)(J,{bol:n}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"List of users"}),Object(C.jsx)("div",{className:"users",children:r.map((function(e){return Object(C.jsxs)("div",{className:"user",children:[Object(C.jsx)("div",{className:"pic",style:{backgroundImage:'url("images/pic.jpg")'}}),Object(C.jsxs)("div",{className:"detail",children:[Object(C.jsx)("h4",{children:e.fullName()}),Object(C.jsx)("p",{children:e.type()}),Object(C.jsx)("div",{className:"btn",children:Object(C.jsx)("button",{onClick:function(){return t.login(e.id)},children:"Login as ".concat(e.firstName())})})]})]},e.id)}))})]})})}}]),n}(r.Component);tt.contextType=T;var et=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).activate=function(){var t=r.state.open;r.setState({open:!t})},r.state={open:0===r.props.index},r}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.label,r=e.active,a=e.index,c=e.activate,s=e.children,i=e.own,u=r===a,o=this.state.open;return i&&(u=o),Object(C.jsxs)("div",{className:u?"panel-body active":"panel-body",children:[Object(C.jsx)("div",{className:"label",children:Object(C.jsx)("button",{role:"tab",onClick:function(){return i?t.activate():c(a)},children:n})}),Object(C.jsx)("div",{className:"content",children:s})]})}}]),n}(r.Component),nt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).activate=function(t){r.state.active!==t&&r.setState({active:t})},r.state={active:0},r}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.panels,r=e.multiple,a=this.state.active;return Object(C.jsx)("div",{className:"accordion",role:"tablist",children:n.map((function(e,n){return Object(C.jsx)(et,{label:e.label,active:a,activate:t.activate,index:n,own:r,children:e.content},"id-".concat(n))}))})}}]),n}(r.Component),rt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"calculate",value:function(){var t=[],e=Object(i.a)(this.context,1)[0],n=e.user,r=e.loading,a=e.users,c=e.carts,s=e.products,u=a.filter((function(t){return t.parent===n.id})).map((function(e,n){var r=c.find((function(t){return t.userId===e.id})),a=r.products.map((function(t){return s.find((function(e){return e.id===t.productId}))})),u=m.cartTotal(r,a),o=Object(i.a)(u,4),l=o[0],d=o[1],h=o[2],p=o[3];return t.push({amount:l,qty:d,count:h,accepted:p}),{label:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:e.fullName()}),Object(C.jsxs)("span",{children:["Items: ",d," / Total: \u20ac",l]}),Object(C.jsxs)("span",{children:["Accepted: ",h," / Total: \u20ac",p]})]}),content:Object(C.jsx)(K,{cart:r,bol:!0,cat:!1,products:a,id:r.id},n)}}));return[r,n,u,m.cartReduce(t)]}},{key:"render",value:function(){var t=this.calculate(),e=Object(i.a)(t,4),n=e[0],r=e[1],a=e[2],c=e[3],s=n?" center":"";return Object(C.jsx)("div",{className:"manage container".concat(s),children:n||!r?Object(C.jsx)(J,{bol:n}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"Manage Children Carts"}),Object(C.jsxs)("div",{className:"info",children:[Object(C.jsxs)("div",{className:"all-items",children:[Object(C.jsx)("h3",{children:"All Items"}),Object(C.jsxs)("div",{className:"items",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Total Amount: "}),Object(C.jsxs)("span",{children:["\u20ac",c[0]]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Total Items: "}),Object(C.jsx)("span",{children:c[1]})]})]})]}),Object(C.jsxs)("div",{className:"accepted",children:[Object(C.jsx)("h3",{children:"Accepted Items"}),Object(C.jsxs)("div",{className:"items",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Total: "}),Object(C.jsx)("span",{children:c[2]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Amount: "}),Object(C.jsxs)("span",{children:["\u20ac",c[3]]})]})]})]})]}),Object(C.jsx)(nt,{multiple:!0,panels:a})]})})}}]),n}(r.Component);rt.contextType=T;var at=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=Object(i.a)(this.context,1)[0],e=t.id,r=t.user,a=e>0&&r instanceof g&&0===r.parent,c=e>0&&r instanceof g&&0!==r.parent;return Object(C.jsx)("div",{className:"app",children:Object(C.jsxs)(h.a,{children:[Object(C.jsx)($,{}),Object(C.jsxs)(p.d,{children:[Object(C.jsx)(p.b,{exact:!0,path:"/",children:Object(C.jsx)(M,{lose:!1,condition:e>0&&r instanceof g,main:Object(C.jsx)(z,{}),other:Object(C.jsx)(tt,{})})}),Object(C.jsx)(p.b,{exact:!0,path:"/products",children:Object(C.jsx)(V,{})}),Object(C.jsx)(p.b,{exact:!0,path:"/product/:name",render:function(t){return n.conditional(t,(function(t){var e=t.name;return Object(C.jsx)(Z,{name:e})}),["name"])}}),Object(C.jsx)(p.b,{exact:!0,path:"/carts",children:Object(C.jsx)(M,{lose:!1,condition:c,main:Object(C.jsx)(Q,{}),other:Object(C.jsx)(p.a,{to:"/"})})}),Object(C.jsx)(p.b,{exact:!0,path:"/manage",children:Object(C.jsx)(M,{lose:!1,condition:a,main:Object(C.jsx)(rt,{}),other:Object(C.jsx)(p.a,{to:"/"})})}),Object(C.jsx)(p.b,{children:Object(C.jsx)(F,{mgs:"404 Page not found!!"})})]}),Object(C.jsx)(_,{})]})})}}],[{key:"conditional",value:function(t,e,n){var r,a,c=t.match;return Object(C.jsx)(D,{uri:null!==(r=null===c||void 0===c?void 0:c.url)&&void 0!==r?r:"",params:null!==(a=null===c||void 0===c?void 0:c.params)&&void 0!==a?a:{},names:n,action:e})}}]),n}(r.Component);at.contextType=T;var ct=at;s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(P,{children:Object(C.jsx)(ct,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.da6e5482.chunk.js.map